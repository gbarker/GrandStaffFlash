{"ast":null,"code":"import { ref, onMounted, watch } from 'vue';\nconst staffLineSpacing = 10;\nconst staffX = 50;\nconst staffWidth = 500;\nconst trebleStaffY = 80;\nconst bassStaffY = 200;\nconst noteRadius = 8;\nexport default {\n  __name: 'GrandStaff',\n  props: {\n    note: {\n      type: Object,\n      required: true,\n      validator: value => {\n        return value.letter && typeof value.accidental !== 'undefined' && typeof value.octave !== 'undefined' && value.keySignature && value.timeSignature;\n      }\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const staffCanvas = ref(null);\n    const ctx = ref(null);\n    onMounted(() => {\n      ctx.value = staffCanvas.value.getContext('2d');\n      drawGrandStaff();\n      drawNote();\n    });\n    watch(() => props.note, () => {\n      redraw();\n    }, {\n      deep: true\n    });\n    function redraw() {\n      ctx.value.clearRect(0, 0, staffCanvas.value.width, staffCanvas.value.height);\n      drawGrandStaff();\n      drawNote();\n    }\n    function drawGrandStaff() {\n      // Draw staff lines\n      ctx.value.lineWidth = 1;\n      ctx.value.strokeStyle = '#000';\n\n      // Draw treble staff (5 lines)\n      for (let i = 0; i < 5; i++) {\n        const y = trebleStaffY + i * staffLineSpacing;\n        ctx.value.beginPath();\n        ctx.value.moveTo(staffX, y);\n        ctx.value.lineTo(staffX + staffWidth, y);\n        ctx.value.stroke();\n      }\n\n      // Draw bass staff (5 lines)\n      for (let i = 0; i < 5; i++) {\n        const y = bassStaffY + i * staffLineSpacing;\n        ctx.value.beginPath();\n        ctx.value.moveTo(staffX, y);\n        ctx.value.lineTo(staffX + staffWidth, y);\n        ctx.value.stroke();\n      }\n\n      // Draw treble clef (simplified)\n      ctx.value.font = '60px serif';\n      ctx.value.fillText('𝄞', staffX + 10, trebleStaffY + 40);\n\n      // Draw bass clef (simplified)\n      ctx.value.font = '40px serif';\n      ctx.value.fillText('𝄢', staffX + 10, bassStaffY + 25);\n\n      // Draw key signature\n      drawKeySignature();\n\n      // Draw time signature\n      drawTimeSignature();\n    }\n    function drawKeySignature() {\n      // Simplified key signature display\n      const keyX = staffX + 60;\n      ctx.value.font = '16px serif';\n      ctx.value.fillStyle = '#000';\n      if (props.note.keySignature === 'G Major') {\n        // Draw F# for G Major\n        ctx.value.fillText('♯', keyX, trebleStaffY - 5);\n      } else if (props.note.keySignature === 'F Major') {\n        // Draw Bb for F Major\n        ctx.value.fillText('♭', keyX, trebleStaffY + 15);\n      }\n      // C Major has no sharps or flats\n    }\n    function drawTimeSignature() {\n      const timeX = staffX + 100;\n      ctx.value.font = '20px serif';\n      ctx.value.fillStyle = '#000';\n      const [numerator, denominator] = props.note.timeSignature.split('/');\n\n      // Draw time signature on both staves\n      ctx.value.fillText(numerator, timeX, trebleStaffY + 15);\n      ctx.value.fillText(denominator, timeX, trebleStaffY + 35);\n      ctx.value.fillText(numerator, timeX, bassStaffY + 15);\n      ctx.value.fillText(denominator, timeX, bassStaffY + 35);\n    }\n    function drawNote() {\n      // Calculate note position based on letter and octave\n      const noteX = staffX + 250;\n      let noteY = 0;\n\n      // Map note letters to positions (simplified)\n      const notePositions = {\n        'C': 0,\n        'D': -1,\n        'E': -2,\n        'F': -3,\n        'G': -4,\n        'A': -5,\n        'B': -6\n      };\n\n      // Determine if note is on treble or bass staff\n      if (props.note.octave >= 4) {\n        // Treble staff (middle C is one ledger line below)\n        const basePosition = trebleStaffY + 5 * staffLineSpacing + staffLineSpacing;\n        const octaveOffset = (4 - props.note.octave) * 7 * staffLineSpacing / 2;\n        noteY = basePosition + octaveOffset + notePositions[props.note.letter] * staffLineSpacing / 2;\n      } else {\n        // Bass staff (middle C is one ledger line above)\n        const basePosition = bassStaffY - staffLineSpacing;\n        const octaveOffset = (3 - props.note.octave) * 7 * staffLineSpacing / 2;\n        noteY = basePosition + octaveOffset + notePositions[props.note.letter] * staffLineSpacing / 2;\n      }\n\n      // Draw the note\n      ctx.value.beginPath();\n      ctx.value.ellipse(noteX, noteY, noteRadius, noteRadius * 0.8, Math.PI / 4, 0, 2 * Math.PI);\n      ctx.value.fill();\n\n      // Draw stem\n      ctx.value.beginPath();\n      ctx.value.moveTo(noteX + noteRadius, noteY);\n      ctx.value.lineTo(noteX + noteRadius, noteY - 30);\n      ctx.value.stroke();\n\n      // Draw accidental\n      if (props.note.accidental === '#') {\n        ctx.value.font = '24px serif';\n        ctx.value.fillText('♯', noteX - 25, noteY + 8);\n      } else if (props.note.accidental === 'b') {\n        ctx.value.font = '24px serif';\n        ctx.value.fillText('♭', noteX - 25, noteY + 8);\n      }\n\n      // Draw ledger lines if needed\n      drawLedgerLines(noteX, noteY);\n    }\n    function drawLedgerLines(noteX, noteY) {\n      ctx.value.lineWidth = 1;\n      ctx.value.strokeStyle = '#000';\n\n      // Ledger lines for treble staff\n      if (noteY > trebleStaffY + 5 * staffLineSpacing) {\n        for (let y = trebleStaffY + 6 * staffLineSpacing; y <= noteY; y += staffLineSpacing) {\n          if ((y - trebleStaffY) % (staffLineSpacing * 2) === 0) {\n            ctx.value.beginPath();\n            ctx.value.moveTo(noteX - 15, y);\n            ctx.value.lineTo(noteX + 15, y);\n            ctx.value.stroke();\n          }\n        }\n      } else if (noteY < trebleStaffY) {\n        for (let y = trebleStaffY - staffLineSpacing; y >= noteY; y -= staffLineSpacing) {\n          if ((trebleStaffY - y) % (staffLineSpacing * 2) === 0) {\n            ctx.value.beginPath();\n            ctx.value.moveTo(noteX - 15, y);\n            ctx.value.lineTo(noteX + 15, y);\n            ctx.value.stroke();\n          }\n        }\n      }\n\n      // Ledger lines for bass staff\n      if (noteY > bassStaffY + 5 * staffLineSpacing) {\n        for (let y = bassStaffY + 6 * staffLineSpacing; y <= noteY; y += staffLineSpacing) {\n          if ((y - bassStaffY) % (staffLineSpacing * 2) === 0) {\n            ctx.value.beginPath();\n            ctx.value.moveTo(noteX - 15, y);\n            ctx.value.lineTo(noteX + 15, y);\n            ctx.value.stroke();\n          }\n        }\n      } else if (noteY < bassStaffY) {\n        for (let y = bassStaffY - staffLineSpacing; y >= noteY; y -= staffLineSpacing) {\n          if ((bassStaffY - y) % (staffLineSpacing * 2) === 0) {\n            ctx.value.beginPath();\n            ctx.value.moveTo(noteX - 15, y);\n            ctx.value.lineTo(noteX + 15, y);\n            ctx.value.stroke();\n          }\n        }\n      }\n    }\n    const __returned__ = {\n      props,\n      staffCanvas,\n      ctx,\n      staffLineSpacing,\n      staffX,\n      staffWidth,\n      trebleStaffY,\n      bassStaffY,\n      noteRadius,\n      redraw,\n      drawGrandStaff,\n      drawKeySignature,\n      drawTimeSignature,\n      drawNote,\n      drawLedgerLines,\n      ref,\n      onMounted,\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","watch","staffLineSpacing","staffX","staffWidth","trebleStaffY","bassStaffY","noteRadius","props","__props","staffCanvas","ctx","value","getContext","drawGrandStaff","drawNote","note","redraw","deep","clearRect","width","height","lineWidth","strokeStyle","i","y","beginPath","moveTo","lineTo","stroke","font","fillText","drawKeySignature","drawTimeSignature","keyX","fillStyle","keySignature","timeX","numerator","denominator","timeSignature","split","noteX","noteY","notePositions","octave","basePosition","octaveOffset","letter","ellipse","Math","PI","fill","accidental","drawLedgerLines"],"sources":["C:/Users/georg/Documents/Projects/Cursor Tutorial/GrandStaffFlashCards/Frontend/src/components/GrandStaff.vue"],"sourcesContent":["<template>\r\n  <div class=\"grand-staff\">\r\n    <canvas ref=\"staffCanvas\" width=\"600\" height=\"300\"></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, watch } from 'vue'\r\n\r\nconst props = defineProps({\r\n  note: {\r\n    type: Object,\r\n    required: true,\r\n    validator: (value) => {\r\n      return value.letter && \r\n             typeof value.accidental !== 'undefined' && \r\n             typeof value.octave !== 'undefined' &&\r\n             value.keySignature &&\r\n             value.timeSignature;\r\n    }\r\n  }\r\n})\r\n\r\nconst staffCanvas = ref(null)\r\nconst ctx = ref(null)\r\nconst staffLineSpacing = 10\r\nconst staffX = 50\r\nconst staffWidth = 500\r\nconst trebleStaffY = 80\r\nconst bassStaffY = 200\r\nconst noteRadius = 8\r\n\r\nonMounted(() => {\r\n  ctx.value = staffCanvas.value.getContext('2d')\r\n  drawGrandStaff()\r\n  drawNote()\r\n})\r\n\r\nwatch(() => props.note, () => {\r\n  redraw()\r\n}, { deep: true })\r\n\r\nfunction redraw() {\r\n  ctx.value.clearRect(0, 0, staffCanvas.value.width, staffCanvas.value.height)\r\n  drawGrandStaff()\r\n  drawNote()\r\n}\r\n\r\nfunction drawGrandStaff() {\r\n  // Draw staff lines\r\n  ctx.value.lineWidth = 1\r\n  ctx.value.strokeStyle = '#000'\r\n  \r\n  // Draw treble staff (5 lines)\r\n  for (let i = 0; i < 5; i++) {\r\n    const y = trebleStaffY + i * staffLineSpacing\r\n    ctx.value.beginPath()\r\n    ctx.value.moveTo(staffX, y)\r\n    ctx.value.lineTo(staffX + staffWidth, y)\r\n    ctx.value.stroke()\r\n  }\r\n  \r\n  // Draw bass staff (5 lines)\r\n  for (let i = 0; i < 5; i++) {\r\n    const y = bassStaffY + i * staffLineSpacing\r\n    ctx.value.beginPath()\r\n    ctx.value.moveTo(staffX, y)\r\n    ctx.value.lineTo(staffX + staffWidth, y)\r\n    ctx.value.stroke()\r\n  }\r\n  \r\n  // Draw treble clef (simplified)\r\n  ctx.value.font = '60px serif'\r\n  ctx.value.fillText('𝄞', staffX + 10, trebleStaffY + 40)\r\n  \r\n  // Draw bass clef (simplified)\r\n  ctx.value.font = '40px serif'\r\n  ctx.value.fillText('𝄢', staffX + 10, bassStaffY + 25)\r\n  \r\n  // Draw key signature\r\n  drawKeySignature()\r\n  \r\n  // Draw time signature\r\n  drawTimeSignature()\r\n}\r\n\r\nfunction drawKeySignature() {\r\n  // Simplified key signature display\r\n  const keyX = staffX + 60\r\n  \r\n  ctx.value.font = '16px serif'\r\n  ctx.value.fillStyle = '#000'\r\n  \r\n  if (props.note.keySignature === 'G Major') {\r\n    // Draw F# for G Major\r\n    ctx.value.fillText('♯', keyX, trebleStaffY - 5)\r\n  } else if (props.note.keySignature === 'F Major') {\r\n    // Draw Bb for F Major\r\n    ctx.value.fillText('♭', keyX, trebleStaffY + 15)\r\n  }\r\n  // C Major has no sharps or flats\r\n}\r\n\r\nfunction drawTimeSignature() {\r\n  const timeX = staffX + 100\r\n  \r\n  ctx.value.font = '20px serif'\r\n  ctx.value.fillStyle = '#000'\r\n  \r\n  const [numerator, denominator] = props.note.timeSignature.split('/')\r\n  \r\n  // Draw time signature on both staves\r\n  ctx.value.fillText(numerator, timeX, trebleStaffY + 15)\r\n  ctx.value.fillText(denominator, timeX, trebleStaffY + 35)\r\n  \r\n  ctx.value.fillText(numerator, timeX, bassStaffY + 15)\r\n  ctx.value.fillText(denominator, timeX, bassStaffY + 35)\r\n}\r\n\r\nfunction drawNote() {\r\n  // Calculate note position based on letter and octave\r\n  const noteX = staffX + 250\r\n  let noteY = 0\r\n  \r\n  // Map note letters to positions (simplified)\r\n  const notePositions = {\r\n    'C': 0,\r\n    'D': -1,\r\n    'E': -2,\r\n    'F': -3,\r\n    'G': -4,\r\n    'A': -5,\r\n    'B': -6\r\n  }\r\n  \r\n  // Determine if note is on treble or bass staff\r\n  if (props.note.octave >= 4) {\r\n    // Treble staff (middle C is one ledger line below)\r\n    const basePosition = trebleStaffY + 5 * staffLineSpacing + staffLineSpacing\r\n    const octaveOffset = (4 - props.note.octave) * 7 * staffLineSpacing / 2\r\n    noteY = basePosition + octaveOffset + notePositions[props.note.letter] * staffLineSpacing / 2\r\n  } else {\r\n    // Bass staff (middle C is one ledger line above)\r\n    const basePosition = bassStaffY - staffLineSpacing\r\n    const octaveOffset = (3 - props.note.octave) * 7 * staffLineSpacing / 2\r\n    noteY = basePosition + octaveOffset + notePositions[props.note.letter] * staffLineSpacing / 2\r\n  }\r\n  \r\n  // Draw the note\r\n  ctx.value.beginPath()\r\n  ctx.value.ellipse(noteX, noteY, noteRadius, noteRadius * 0.8, Math.PI / 4, 0, 2 * Math.PI)\r\n  ctx.value.fill()\r\n  \r\n  // Draw stem\r\n  ctx.value.beginPath()\r\n  ctx.value.moveTo(noteX + noteRadius, noteY)\r\n  ctx.value.lineTo(noteX + noteRadius, noteY - 30)\r\n  ctx.value.stroke()\r\n  \r\n  // Draw accidental\r\n  if (props.note.accidental === '#') {\r\n    ctx.value.font = '24px serif'\r\n    ctx.value.fillText('♯', noteX - 25, noteY + 8)\r\n  } else if (props.note.accidental === 'b') {\r\n    ctx.value.font = '24px serif'\r\n    ctx.value.fillText('♭', noteX - 25, noteY + 8)\r\n  }\r\n  \r\n  // Draw ledger lines if needed\r\n  drawLedgerLines(noteX, noteY)\r\n}\r\n\r\nfunction drawLedgerLines(noteX, noteY) {\r\n  ctx.value.lineWidth = 1\r\n  ctx.value.strokeStyle = '#000'\r\n  \r\n  // Ledger lines for treble staff\r\n  if (noteY > trebleStaffY + 5 * staffLineSpacing) {\r\n    for (let y = trebleStaffY + 6 * staffLineSpacing; y <= noteY; y += staffLineSpacing) {\r\n      if ((y - trebleStaffY) % (staffLineSpacing * 2) === 0) {\r\n        ctx.value.beginPath()\r\n        ctx.value.moveTo(noteX - 15, y)\r\n        ctx.value.lineTo(noteX + 15, y)\r\n        ctx.value.stroke()\r\n      }\r\n    }\r\n  } else if (noteY < trebleStaffY) {\r\n    for (let y = trebleStaffY - staffLineSpacing; y >= noteY; y -= staffLineSpacing) {\r\n      if ((trebleStaffY - y) % (staffLineSpacing * 2) === 0) {\r\n        ctx.value.beginPath()\r\n        ctx.value.moveTo(noteX - 15, y)\r\n        ctx.value.lineTo(noteX + 15, y)\r\n        ctx.value.stroke()\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Ledger lines for bass staff\r\n  if (noteY > bassStaffY + 5 * staffLineSpacing) {\r\n    for (let y = bassStaffY + 6 * staffLineSpacing; y <= noteY; y += staffLineSpacing) {\r\n      if ((y - bassStaffY) % (staffLineSpacing * 2) === 0) {\r\n        ctx.value.beginPath()\r\n        ctx.value.moveTo(noteX - 15, y)\r\n        ctx.value.lineTo(noteX + 15, y)\r\n        ctx.value.stroke()\r\n      }\r\n    }\r\n  } else if (noteY < bassStaffY) {\r\n    for (let y = bassStaffY - staffLineSpacing; y >= noteY; y -= staffLineSpacing) {\r\n      if ((bassStaffY - y) % (staffLineSpacing * 2) === 0) {\r\n        ctx.value.beginPath()\r\n        ctx.value.moveTo(noteX - 15, y)\r\n        ctx.value.lineTo(noteX + 15, y)\r\n        ctx.value.stroke()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.grand-staff {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 20px 0;\r\n}\r\n\r\ncanvas {\r\n  border: 1px solid #eee;\r\n  background-color: white;\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}